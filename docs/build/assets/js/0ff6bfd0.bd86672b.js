"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7817],{1742:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>x,frontMatter:()=>t,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"dev-log/dev-day-2","title":"\uac1c\ubc1c 2\uc77c\ucc28 (JWT \uc778\uc99d, \uc0ac\uc6a9\uc790 \uc5ed\ud560, \uc804\uc5ed \uc0c1\ud0dc)","description":"TRB \ud504\ub85c\uc81d\ud2b8\uc758 \uc778\uc99d \uc2dc\uc2a4\ud15c \uad6c\ucd95 \ubc0f \uc5ed\ud560 \uae30\ubc18 \ub80c\ub354\ub9c1 \ucc98\ub9ac \uae30\ub85d","source":"@site/docs/dev-log/dev-day-2.md","sourceDirName":"dev-log","slug":"/dev-log/dev-day-2","permalink":"/TRB/docs/dev-log/dev-day-2","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"auth","permalink":"/TRB/docs/tags/auth"},{"inline":true,"label":"jwt","permalink":"/TRB/docs/tags/jwt"},{"inline":true,"label":"react-context","permalink":"/TRB/docs/tags/react-context"},{"inline":true,"label":"user-role","permalink":"/TRB/docs/tags/user-role"}],"version":"current","frontMatter":{"id":"dev-day-2","title":"\uac1c\ubc1c 2\uc77c\ucc28 (JWT \uc778\uc99d, \uc0ac\uc6a9\uc790 \uc5ed\ud560, \uc804\uc5ed \uc0c1\ud0dc)","description":"TRB \ud504\ub85c\uc81d\ud2b8\uc758 \uc778\uc99d \uc2dc\uc2a4\ud15c \uad6c\ucd95 \ubc0f \uc5ed\ud560 \uae30\ubc18 \ub80c\ub354\ub9c1 \ucc98\ub9ac \uae30\ub85d","tags":["auth","jwt","react-context","user-role"]},"sidebar":"tutorialSidebar","previous":{"title":"\uac1c\ubc1c 1\uc77c\ucc28 (Monolith, Clean Architecture, UserService)","permalink":"/TRB/docs/dev-log/dev-day-1"},"next":{"title":"\uac1c\ubc1c 3\uc77c\ucc28 (\ud68c\uc6d0\uac00\uc785 \uba54\uc2dc\uc9c0\ud050 \ucc98\ub9ac \ubc0f Consumer \uad6c\ud604)","permalink":"/TRB/docs/dev-log/dev-day-3"}}');var d=l(4848),s=l(8453);const t={id:"dev-day-2",title:"\uac1c\ubc1c 2\uc77c\ucc28 (JWT \uc778\uc99d, \uc0ac\uc6a9\uc790 \uc5ed\ud560, \uc804\uc5ed \uc0c1\ud0dc)",description:"TRB \ud504\ub85c\uc81d\ud2b8\uc758 \uc778\uc99d \uc2dc\uc2a4\ud15c \uad6c\ucd95 \ubc0f \uc5ed\ud560 \uae30\ubc18 \ub80c\ub354\ub9c1 \ucc98\ub9ac \uae30\ub85d",tags:["auth","jwt","react-context","user-role"]},i=void 0,c={},h=[{value:"\ud83e\udde0 \uae30\uc220\uc801 \uacb0\uc815",id:"-\uae30\uc220\uc801-\uacb0\uc815",level:2},{value:"\ud83d\udcc4 \ucf54\ub4dc \ud750\ub984 \uc694\uc57d",id:"-\ucf54\ub4dc-\ud750\ub984-\uc694\uc57d",level:2},{value:"1. \uc11c\ubc84 \uc751\ub2f5 \uc608\uc2dc",id:"1-\uc11c\ubc84-\uc751\ub2f5-\uc608\uc2dc",level:3},{value:"2. \ud074\ub77c\uc774\uc5b8\ud2b8 \ucc98\ub9ac",id:"2-\ud074\ub77c\uc774\uc5b8\ud2b8-\ucc98\ub9ac",level:3},{value:"3. AuthContext \uad6c\uc870",id:"3-authcontext-\uad6c\uc870",level:3},{value:"\ud83d\udccc UI \ub3d9\uc791",id:"-ui-\ub3d9\uc791",level:2},{value:"\ud83d\udd12 \ubcf4\ud638 \uae30\ub2a5",id:"-\ubcf4\ud638-\uae30\ub2a5",level:2},{value:"\ud83e\udde9 \uc0ac\uc6a9\uc790 \uc778\uc99d \uad00\ub828 DB \uad6c\uc870 (ERD)",id:"-\uc0ac\uc6a9\uc790-\uc778\uc99d-\uad00\ub828-db-\uad6c\uc870-erd",level:2},{value:"\ud83d\udccb User \ud14c\uc774\ube14",id:"-user-\ud14c\uc774\ube14",level:3},{value:"\ud83d\udccb UserRole \ud14c\uc774\ube14",id:"-userrole-\ud14c\uc774\ube14",level:3},{value:"\ud83d\udcc1 \uc5f0\uad00\ub41c \ud30c\uc77c \ubaa9\ub85d",id:"-\uc5f0\uad00\ub41c-\ud30c\uc77c-\ubaa9\ub85d",level:2}];function o(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h2,{id:"-\uae30\uc220\uc801-\uacb0\uc815",children:"\ud83e\udde0 \uae30\uc220\uc801 \uacb0\uc815"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"roleId"})," \u2192 ",(0,d.jsx)(n.code,{children:"roleName"})," \ub9e4\ud551\uc740 \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uc544\ub2c8\ub77c \uc11c\ubc84\uac00 \ucc98\ub9ac"]}),"\n",(0,d.jsx)(n.li,{children:"\ud074\ub77c\uc774\uc5b8\ud2b8\ub294 \uc5ed\ud560 \uc774\ub984\uc744 \uadf8\ub300\ub85c \ubc1b\uc544 \uc0ac\uc6a9\ud558\uc5ec \uc720\uc9c0\ubcf4\uc218\uc131\uacfc \uac00\ub3c5\uc131 \ud655\ubcf4"}),"\n",(0,d.jsxs)(n.li,{children:["\uc5ed\ud560 \uc804\uc5ed \uad00\ub9ac \uad6c\uc870\ub294 ",(0,d.jsx)(n.code,{children:"AuthContext"}),"\uc5d0 ",(0,d.jsx)(n.code,{children:"role"}),"\ub85c \ud3ec\ud568\ud558\uc5ec React \uc571 \uc804\uccb4\uc5d0\uc11c \uc811\uadfc \uac00\ub2a5"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-\ucf54\ub4dc-\ud750\ub984-\uc694\uc57d",children:"\ud83d\udcc4 \ucf54\ub4dc \ud750\ub984 \uc694\uc57d"}),"\n",(0,d.jsx)(n.h3,{id:"1-\uc11c\ubc84-\uc751\ub2f5-\uc608\uc2dc",children:"1. \uc11c\ubc84 \uc751\ub2f5 \uc608\uc2dc"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\r\n  "token": "<JWT_STRING>",\r\n  "roleName": "\uad00\ub9ac\uc790"\r\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"2-\ud074\ub77c\uc774\uc5b8\ud2b8-\ucc98\ub9ac",children:"2. \ud074\ub77c\uc774\uc5b8\ud2b8 \ucc98\ub9ac"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-tsx",children:"const result = await response.json();\r\nconst token = result.token;\r\nconst roleName = result.roleName;\r\nlogin(token, email, roleName);\n"})}),"\n",(0,d.jsx)(n.h3,{id:"3-authcontext-\uad6c\uc870",children:"3. AuthContext \uad6c\uc870"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-tsx",children:"interface AuthContextType {\r\n  token: string | null;\r\n  email: string | null;\r\n  role: string | null;\r\n  ...\r\n}\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-ui-\ub3d9\uc791",children:"\ud83d\udccc UI \ub3d9\uc791"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\ub85c\uadf8\uc778 \uc804: \uc774\uba54\uc77c/\ube44\ubc00\ubc88\ud638 \uc785\ub825\ud3fc + \ud68c\uc6d0\uac00\uc785 \uc804\ud658 \ubc84\ud2bc"}),"\n",(0,d.jsxs)(n.li,{children:["\ub85c\uadf8\uc778 \ud6c4: ",(0,d.jsx)(n.code,{children:"email \xb7 \uc5ed\ud560\uba85"})," \ud45c\uc2dc + \ub85c\uadf8\uc544\uc6c3 \ubc84\ud2bc \ud45c\uc2dc"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-\ubcf4\ud638-\uae30\ub2a5",children:"\ud83d\udd12 \ubcf4\ud638 \uae30\ub2a5"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\uc0c1\uc138 \ubd84\uc11d \uae30\ub2a5 \ubc84\ud2bc\uc740 ",(0,d.jsx)(n.code,{children:"isLoggedIn === false"}),"\uc778 \uacbd\uc6b0 \ud074\ub9ad \uc2dc alert \ud45c\uc2dc"]}),"\n",(0,d.jsxs)(n.li,{children:["\ub85c\uadf8\uc778\ub41c \uc0ac\uc6a9\uc790\ub9cc ",(0,d.jsx)(n.code,{children:"ChartAnalysisModal"})," \uc5f4\ub78c \uac00\ub2a5"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-\uc0ac\uc6a9\uc790-\uc778\uc99d-\uad00\ub828-db-\uad6c\uc870-erd",children:"\ud83e\udde9 \uc0ac\uc6a9\uc790 \uc778\uc99d \uad00\ub828 DB \uad6c\uc870 (ERD)"}),"\n",(0,d.jsx)(n.h3,{id:"-user-\ud14c\uc774\ube14",children:"\ud83d\udccb User \ud14c\uc774\ube14"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\uceec\ub7fc\uba85"}),(0,d.jsx)(n.th,{children:"\ud0c0\uc785"}),(0,d.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"user_id"}),(0,d.jsx)(n.td,{children:"INT (PK)"}),(0,d.jsx)(n.td,{children:"\uc0ac\uc6a9\uc790 \uace0\uc720 ID"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"email"}),(0,d.jsx)(n.td,{children:"VARCHAR"}),(0,d.jsx)(n.td,{children:"\uc0ac\uc6a9\uc790 \uc774\uba54\uc77c"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"password"}),(0,d.jsx)(n.td,{children:"VARCHAR"}),(0,d.jsx)(n.td,{children:"\ud574\uc2dc\ub41c \ube44\ubc00\ubc88\ud638"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"role_id"}),(0,d.jsx)(n.td,{children:"INT (FK)"}),(0,d.jsx)(n.td,{children:"\uc5ed\ud560 ID (UserRole)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"created_at"}),(0,d.jsx)(n.td,{children:"DATETIME"}),(0,d.jsx)(n.td,{children:"\uc0dd\uc131 \uc77c\uc2dc"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"enabled"}),(0,d.jsx)(n.td,{children:"BOOLEAN/CHAR"}),(0,d.jsx)(n.td,{children:"\ud65c\uc131 \uc5ec\ubd80"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"-userrole-\ud14c\uc774\ube14",children:"\ud83d\udccb UserRole \ud14c\uc774\ube14"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\uceec\ub7fc\uba85"}),(0,d.jsx)(n.th,{children:"\ud0c0\uc785"}),(0,d.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"role_id"}),(0,d.jsx)(n.td,{children:"INT (PK)"}),(0,d.jsx)(n.td,{children:"\uc5ed\ud560 ID"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"role_name"}),(0,d.jsx)(n.td,{children:"VARCHAR"}),(0,d.jsx)(n.td,{children:"\uc5ed\ud560 \uc774\ub984 (ex. \uc0ac\uc6a9\uc790, \uad00\ub9ac\uc790)"})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\ud83d\udd17 \uad00\uacc4:"})," ",(0,d.jsx)(n.code,{children:"User.role_id \u2192 UserRole.role_id"})," (N:1)"]}),"\n",(0,d.jsx)(n.h2,{id:"-\uc5f0\uad00\ub41c-\ud30c\uc77c-\ubaa9\ub85d",children:"\ud83d\udcc1 \uc5f0\uad00\ub41c \ud30c\uc77c \ubaa9\ub85d"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"AuthContext.tsx"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"AuthPage.tsx"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"Dashboard.tsx"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"CoinChart.tsx"})}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"UserController.cs"})," (",(0,d.jsx)(n.code,{children:"role_name"})," \ud3ec\ud568 \uc751\ub2f5 \ucc98\ub9ac)"]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>t,x:()=>i});var r=l(6540);const d={},s=r.createContext(d);function t(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);